<div class="app-body">
  <main class="main d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-md-6 mx-auto">
          <div class="card mx-4">
            <div class="card-body p-4">
              <form
                [formGroup]="registerForm"
                (ngSubmit)="register(registerForm)"
              >
                <h1>Register</h1>
                <p class="text-muted">Create your account</p>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i class="icon-user"></i
                    ></span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="firstName"
                    placeholder="Firt Name"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['firstName'].errors?.required
                    "
                    >First name is <strong>required</strong>
                  </small>
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['firstName'].errors?.pattern
                    "
                    >First name is <strong>Invalid</strong>
                  </small>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i class="icon-user"></i
                    ></span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="lastName"
                    placeholder="Last Name"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['lastName'].errors?.required
                    "
                    >Last name is <strong>required</strong>
                  </small>
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['lastName'].errors?.pattern
                    "
                    >Last name is <strong>Invalid</strong>
                  </small>
                </div>
                <fieldset class="form-group">
                  <div class="input-group">
                    <span class="input-group-prepend"
                      ><span class="input-group-text"
                        ><i class="fa fa-calendar"></i></span
                    ></span>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="birthDate"
                      #bd
                      [textMask]="{ mask: dateMask }"
                      placeholder="dd/mm/yyyy"
                    />
                    <small
                      class="error"
                      *ngIf="
                        invalidStatus &&
                        registerForm.controls['birthDate'].errors?.required
                      "
                      >Birth Date is <strong>required</strong>
                    </small>
                    <small
                      class="error"
                      *ngIf="
                        invalidStatus &&
                        registerForm.controls['birthDate'].errors?.pattern
                      "
                      >Birth Date is <strong>INVALID</strong>
                    </small>
                    <small
                      class="error"
                      *ngIf="
                        invalidStatus &&
                        validateBirthDate(registerForm) &&
                        !registerForm.controls['birthDate'].errors?.required &&
                        !registerForm.controls['birthDate'].errors?.pattern
                      "
                      >You must be at least <strong>16</strong> years old
                    </small>
                  </div>
                </fieldset>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">@</span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="example@email..."
                    formControlName="email"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['email'].errors?.required
                    "
                    >Email is <strong>required</strong>
                  </small>
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['email'].errors?.email
                    "
                    >Email is <strong>INVALID</strong>
                  </small>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i class="icon-lock"></i
                    ></span>
                  </div>
                  <input
                    type="password"
                    formControlName="password"
                    class="form-control"
                    placeholder="Password"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['password'].errors?.required
                    "
                    >Password is <strong>required</strong>
                  </small>
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['password'].errors?.pattern
                    "
                    >Password must contain at least one letter and one
                    number</small
                  >
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['password'].errors?.minlength &&
                      !registerForm.controls['password'].errors?.pattern
                    "
                    >Password must at least contain
                    <strong>4 characters</strong>
                  </small>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i class="icon-lock"></i
                    ></span>
                  </div>
                  <input
                    type="password"
                    class="form-control"
                    formControlName="repeatPassword"
                    placeholder="Repeat password"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['repeatPassword'].errors?.required
                    "
                    >PLease confirm your password</small
                  >
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      checkPasswords(registerForm) &&
                      !registerForm.controls['repeatPassword'].errors?.required
                    "
                    >Password does not <strong>match</strong></small
                  >
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-telephone"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"
                        />
                      </svg>
                    </span>
                  </div>
                  <input
                    type="tel"
                    class="form-control"
                    formControlName="phone"
                    placeholder="Phone number"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['phone'].errors?.required
                    "
                    >Phone number is <strong>required</strong></small
                  >
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['phone'].errors?.pattern
                    "
                    >Invalid phone number</small
                  >
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-geo-alt"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"
                        />
                        <path
                          d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"
                        />
                      </svg>
                    </span>
                  </div>
                  <input
                    type="text"
                    formControlName="address"
                    class="form-control"
                    placeholder="Address"
                    required
                  />
                  <small
                    class="error"
                    *ngIf="
                      invalidStatus &&
                      registerForm.controls['address'].errors?.required
                    "
                    >Address is <strong>required</strong></small
                  >
                </div>
                <div
                  class="
                    d-flex
                    input-group
                    mb-3
                    justify-content-center
                    wrapper
                    align-items-center
                  "
                >
                  <input
                    type="file"
                    formControlName="avatar"
                    name="file"
                    id="file"
                    #fileInput
                    class="file"
                    (change)="fileSelected(fileInput, readOnlyInput, $event)"
                  />
                  <div class="d-flex" style="width: 100%">
                    <i class="fa fa-user-circle-o fa-lg btn btn-file"></i>
                    <input
                      type="text"
                      name="file-name"
                      placeholder="Select your avatar"
                      id="file-name"
                      #readOnlyInput
                      (click)="fileInput.click()"
                      class="file-name form-control"
                      formControlName="ROInput"
                      readonly="readonly"
                    />
                    <input
                      type="text"
                      formControlName="fakeAvatar"
                      style="display: none"
                    />
                    <small
                      class="error"
                      *ngIf="
                        invalidStatus &&
                        registerForm.controls['avatar'].errors?.required
                      "
                      >Please select your <strong>Avatar</strong></small
                    >
                    <small
                      class="error"
                      *ngIf="
                        invalidStatus &&
                        checkFile(registerForm) &&
                        !registerForm.controls['avatar'].errors?.required
                      "
                      >Wrong <strong>file</strong></small
                    >
                  </div>
                </div>
                <button type="submit" class="btn btn-block btn-success">
                  Create Account
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
